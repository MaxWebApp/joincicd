on: push
name: ðŸš€ Deploy website on push
jobs:
      # ç¬¬ä¸€å€‹éšŽæ®µ
      build:
            name: ðŸŽ‰ Deploy Staging
            runs-on: ubuntu-latest
            steps:
            - name: ðŸšš Get latest code
                  uses: actions/checkout@v4
            
            - name: ðŸ“‚ Sync files to Server 1
                  uses: SamKirkland/FTP-Deploy-Action@v4.3.5
                  with:
                        server: ftp.maxwebapp.com
                        username: ${{ secrets.ftp_username }}
                        password: ${{ secrets.ftp_password }}
                        server-dir: /
      # ç¬¬äºŒå€‹éšŽæ®µ
      deploy:
            name: ðŸŽ‰ Deploy Production
            runs-on: ubuntu-latest
            needs: build
            steps:
            - name: ðŸ“‚ Sync files to Server 2
                  uses: SamKirkland/FTP-Deploy-Action@v4.3.5
                  with:
                        server: "210.61.119.143"
                        username: ${{ secrets.ftp_username2 }}
                        password: ${{ secrets.ftp_password2 }}
                        server-dir: /public_html/joincicd/